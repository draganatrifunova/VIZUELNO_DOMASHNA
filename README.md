Оваа домашна задача ја посветивме на македонската традиционална лотарија. Направивме игра која ја симулира лотаријата.



Објаснување на проблемот
======================== 

Напочетокот при вчитување на програмата кај InitializeComponent() во Form1.cs ставивме код кој запишува во датотека.   

Овој код Рандом генерира одредени информации и ги запишува линија по линија во датотеката.   
Бројот на линии е всушност бројот на уплатени ливчиња за лотаријата. Во секоја линија има:   

7 броеви кои ги уплатил играчот ; име и град на тобакото ; ИД на фискална сметка   

пример:   
5;1;17;16;31;29;36;tobako3-Struga;#6400   

Како што веќе споменавме паралелно со вчитувањето на програмата се извршува запишувањето на линиите во позадина.    

Она што ние го гледаме на Windows Forms кога ќе започне играта e всушност едно копче „Започни“ како и лабелата „Со среќа“.   
При притискање на “Започни„ се појавува ново копче кое со негово притискање извлекува 7 рандом броеви од 1 до 37 без да се повторуваат.   

Кога ќе заврши извлекувањето автоматски се појавуваат резултатите од него. Резултатите се добиени при споредба на секоја линија од датотеката со извлечените броеви. Редоследот не е важен.   

На пример:   
Доколку во една линија во датотеката пишува дека во тобако2 во Кочани биле избрани броевите 7 6 5 4 3 2 1 а, нашите извлечени броеви се    
1 2 3 4 5 6 7 тогаш, во тобакото во Кочани има 7-ца на лото.   

Во резултатите најпрвин се печати статистика, колку ливчиња има со 4 погодоци, колку има со 5, со 6 и со 7.   
А, потоа доколку има освоени 6 и 7 погодоци исто така се печати и името на тобакото, градот на тобакото и ИД на фискална сметка.   



Решение на проблемот и опис на функции и класи од изворниот код на проектот
===========================================================================
Решението на проблемот се чува во неколку класи.    

## public class Ball   
За топчињата кои ги генерираме имаме посебна класа топче. Таму ја чуваме вредноста на топчето односно бројчето во него, колку   
топчето е проѕирно (тоа ни треба за генерирање на ефектите) како и променлива од типот Point во која кажуваме каде точно ќе се наоѓа топчето според Х и У координатите.   

## public class Livce   
Исто така и покрај тоа што ливчињата ги читаме од датотека сепак, и за нив имаме посебна класа и при секое читање на линија од датотеката се креира еден објект од класата ливче.   
Во класата ливче ги чуваме апсолутно истите работи како и во линиите кои ги читаме односно:   
- 7-те избрани броеви за тоа ливче
- име и град на тобакото во една променлива од тип string
- ИД на сметката


## public class Scene   
Во класата Сцена имаме листа од седум топки, една истанца од класата Random која веќе    
постои во С# а, ние само ја искористуваме за Рандом генерирање на бројчињата во топките.   
Исто така имаме и листа со ливчиња. Каде што се објекти од класата Livce кои претходно беа во датотеката.   
Поважни функции овде се функциите за додавање на топка и за додавање на ливче во листите за топки и тикети.   
Имаме функција Draw која што ја повикува функцијата Draw од класата Ball за секоја од седумте топки. [Со помош на оваа функција се цртаат топките]   


Функцијата GenerateBalls се користи за генерирање на Рандом бројче на секоја топка и притоа   
бројчињата не смеат да се повторуваат и се движат од 1-37   
Исто така во оваа функција се одлучува и за положбата на топките преку Х и У координатата на Point. [Point одлучува колку надолу да биде поставена топката преку У координатата како и колку надесно да биде поставена топката преку X координатата].   
Во нашиот случај сите топки имаат иста У координата затоа што сите се поставени на иста висина но, различна Х координата затоа што првата е најлево а, последната најдесно.   
[Првата топка има најмала Х вредност а, последната најголема]   

Функцијата CheckTickets се користи за печатењето на статистиката. Во оваа функција за секое уплатено ливче се проверува колку од броевите во тоа ливче се исти со броевите од топчињата.   
На крај се печати колку има ливчиња со 4 погодоци, колку со 5, со 6 и со 7.   
Исто така доколку некој добие 7-ца или 6-ка на лото ние го печатиме тобакото и градот каде што е добиена добивката како и ИД на фискалната сметка каде е уплатена добивката.   



## public partial class Form1 : Form   
Оваа класа ги поврзува претходните класи со Windows Forms и според нас е најзначајната класа во проектот и покрај тоа што се неопходни и другите.   
Има долг конструктор затоа што при стартување на програмата мора да се изгенерираат Рандом   
1500 ливчиња и да се запишат во датотека.   
Во оваа класа се чуваат 3 променливи:   
- една променлива од класата Scene / односно една истанца од оваа класа која ни е потребна за голем број активности во оваа класа

- ballIndex кој првично стартува со 0 затоа што ни помага да ги изгенерираме 7-те топки

- animationStep која што ни помага постепено да се изгенерират 7-те топчиња една по една   

ВО ОВАА КЛАСА Е ЕДИНСТВЕНАТА ИСТАНЦА ОД КЛАСАТА РАНДОМ КОЈА ЈА КОРИСТИ ЦЕЛИОТ ПРОЕКТ.   

Функцијата btnStart_Click   
Кога ќе кликнеме на копчето „Започни“ тоа копче веќе нема да го гледаме заедно со лабелата „Со среќа!“    
Потоа читаме линија по линија од датотеката која претходно ја генериравме во конструкторот и правиме објект Livce за секоја линија. Ја земаме единствената истанца од класата Scene,   
и повикуваме функција за додавање на ливчето Livce во листата од ливчиња која ја содржи самата истанца Scene. ИМАМЕ САМО ЕДНА СЦЕНА ВО ЦЕЛАТА ИГРА ОДНОСНО ОД КЛАСАТА SCENE КРЕИРАМЕ САМО ЕДЕН ОБЈЕКТ. Ова го правиме за сите 1500 ливчиња. Соодветно доколку наидеме на грешки фрламе исклучок.   


Функцијата btnGenerateBalls_Click го прави следното:   
Копчето за генерирање на топки веќе не го гледаме. Повикуваме функција од единствената истанца scene за генерирање на 7-те топки. И започнуваме со анимација. Соодветно за почеток:   
ballIndex = 0;   
animationStep = 0;   



Функцијата animationTimer_Tick    
animationStep++ - Ова се прави се додека не дојде до 7. Тоа значи брзина со која видливоста на топчето расте. Кога ќе дојде до 7 видливоста на топчето е 1 - го достигнала својот врв и преминуваме на следното топче.   
И така се додека не се направат сите топчиња едно по едно. ПРИТОА ТОПЧИЊАТА ПОСТЕПЕНО СЕ ПОЈАВУВААТ   
Koга ќе се изгенерираат сите топчиња се повикува функцијата CheckTickets од единствената истанца scene ОДНОСНО АВТОМАТСКИ СЕ ПОЈАВУВА ПРОЗОРЕЦ ВО КОИ ГИ ПИШУВА РЕЗУЛТАТИТЕ ОД ЛОТАРИЈАТА.   



Функцијата Form1_Paint е настански ракувач за настанот Paint на формата. Овој настан се повикува секој пат кога формата треба да се освежи или повторно да се исцрта. Функцијата ги врши следните операции:   

- Ја чисти графичката површина и ја поставува бела позадина.
- Ги црта сите топки до тековниот ballIndex.
- Ја црта тековната топка која е во анимација, ако ballIndex е помал од бројот на топки во сцената и ако animationStep е поголем од 0.

scene.balls[i].Draw(e.Graphics);   
Оваа линија ја црта топката на тековниот индекс i користејќи ја графиката e.Graphics.   
Методот Draw на топката ја извршува вистинската операција на цртање на топката на графичката површина.   



Screenshots од изгледот на апликацијата/играта и кратко упатство како се користи/игра
=====================================================================================
Koга започнуваме со играта постои едно копче "Започни" со кое треба да започнеме.    

![Screenshot (339)](https://github.com/magdalenaT18/VP/assets/138613966/edfd4d3c-326a-42d0-9121-86693168d126)

По започнувањето се појавува ново копче кое се вика "Извлечи 7 топки" на кое треба да притиснеме.     

![Screenshot (340)](https://github.com/magdalenaT18/VP/assets/138613966/3c3143a8-4d85-4985-8a77-5e055c8b711a)

Кога притискаме на него анимацијата започнува.        

![Screenshot (354)](https://github.com/draganatrifunova/VIZUELNO_DOMASHNA/assets/138613966/5e5262ba-30d5-4e68-81cd-14b327e98b27)

Откако ги добиваме седумте броеви односно анимацијата завршува се појавува еден прозорец со извештајот од лотаријата.    
Доколку повторно притиснема на копчето "Извлечи 7 топки" извлекувањето започнува одпочеток. 

![Screenshot (355)](https://github.com/draganatrifunova/VIZUELNO_DOMASHNA/assets/138613966/0fdaca0f-f79d-4892-80b2-62b43617e302)
